<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="Ramdhina Finita">
    <meta name="description" content="leaflet basic">

    <!-- Judul pada tab browser -->
    <title>Leaflet Covid-19 Sleman Regency </title>

    <!-- Leaflet CSS Library -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-search/leaflet-search.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-measure/leaflet-measure.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-groupedlayercontrol/leaflet.groupedlayercontrol.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-easyprint/easyPrint.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-compass/src/leaflet-compass.css">
    <link rel="stylesheet" href="assets/plugins/leaflet-gps/src/leaflet-gps.css">
    <link rel="stylesheet" href="assets/plugins/Leaflet-Coordinates-Control-master/Control.Coordinates.css">
    <!-- <link rel="stylesheet" href="assets/plugins/Leaflet.markercluster-1.4.1/dist/MarkerCluster.css">
    <link rel="stylesheet" href="assets/plugins/Leaflet.markercluster-1.4.1/dist/MarkerCluster.Default.css"> -->
    <link rel="stylesheet" href="assets/plugins/leaflet.routing-machine/dist/leaflet-routing-machine.css">
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="screen.css" />
    <!--MarkerCluster CSS Library-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />

    <!-- Tab browser icon -->
    <link rel="icon" type="image/x-icon" href="https://agricia.faperta.ugm.ac.id/wp-content/uploads/sites/377/2018/06/logo-ugm-png-289x300.png">

    <!--GeoJSON-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Leaflet JavaScript Library -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
        
    <style>
      /* Tampilan peta fullscreen */
      html, body, #map {
        height: 100%;
        width: 100%;
        margin: 0px; }

    </style>
    
    <style>
        .info { 
            padding: 6px 8px; 
            font: 14px/16px Arial, Helvetica, sans-serif; 
            background: white; background: rgba(255, 255, 255, 0.8); 
            box-shadow: 0 0 15px rgba(0,0,0,0.2); 
            border-radius: 5px; } .info h4 { margin: 0 0 5px; color: #777; }
        .mycluster {
			width: 40px;
			height: 40px;
			background-color: greenyellow;
			text-align: center;
			font-size: 24px;
		}

    </style>

  </head>

  <body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="assets/plugins/leaflet-search/leaflet-search.js"></script>
    <script src="assets/plugins/leaflet-measure/leaflet-measure.js"></script>
    <script src="assets/plugins/leaflet-groupedlayercontrol/leaflet.groupedlayercontrol.js"></script>
    <script src="assets/plugins/leaflet-easyprint/leaflet.easyPrint.js"></script>
    <script src="assets/plugins/leaflet-compass/src/leaflet-compass.js"></script>
    <script src="assets/plugins/leaflet-gps/src/leaflet-gps.js"></script>
    <script src="assets/plugins/Leaflet-Coordinates-Control-master/Control.Coordinates.js"></script>
    <!-- <script src="assets/plugins/Leaflet.markercluster-1.4.1/dist/leaflet.markercluster-src.js"></script> -->
    <script src="assets/plugins/leaflet.routing-machine/dist/leaflet-routing-machine.js"></script>

    <!-- <script src="assets/plugins/Leaflet.heat/dist/leaflet-heat.js"></script> -->
    <script src="Control.Geocoder.js"></script>
    <script src="config.js"></script>
    <!--MarkerCluster JavaScript Library-->
    <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>

    <!--Routing JavaScript Library-->
    <!-- <script src="assets/plugins/leaflet-routing-machine/leaflet-routing-machine.js"></script>
    <script src="assets/plugins/leaflet-routing-machine/leaflet-routing-machine.min.js"></script> -->


    <script>

        /* Initial Map Berfungsi untuk mengatur titik koordinat dan titik tengah dan level zoom pada basemap*/
        var map = L.map('map').setView([-7.677567,110.406899],10); //lat, long, zoom

        /* Tile Basemap berfungsi untuk menampilkan basemap yang akan ditampilkan */
        var basemap1 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | <a href="DIVSIG UGM" target="_blank">Ramdhina Finita - 21/483541/SV/20340</a>' //menambahkan nama//
        });

        var basemap2 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Esri World Street &copy; Esri | <a href="Latihan WebGIS" target="_blank">Ramdhina Finita - 21/483541/SV/20340</a>'
        });

        var basemap3 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Esri Imagery &copy; Esri | <a href="Latihan WebGIS" target="_blank">Ramdhina Finita - 21/483541/SV/20340</a>'
        });

        var basemap4 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Esri NatGeo World Map &copy; Esri | <a href="Latihan WebGIS" target="_blank">Ramdhina Finita - 21/483541/SV/20340</a>'
        });

        var basemap5 = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>', 
        id: 'mapbox/light-v9',
        });

        basemap2.addTo(map);

        // control that shows state info hover berfungsi untuk menambahkan settingan judulnya, disini hanya strukturnya saja. Style nya berada di <head>
        var info = L.control();        

        info.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        
        info.update = function (props) {
            this._div.innerHTML = '<h4>WebGIS | COVID-19 KABUPATEN SLEMAN</h4>' +  (props ?
            '<b>' + props.JENIS + '</b><br />'
            : 'Mata Kuliah Pemrograman Spasial : Web');
        };
        info.addTo(map);
        
        
        /* Layer Marker */
        var marker1 = L.marker([-7.766715, 110.377460], {draggable: false});
        marker1.addTo(map);
        marker1.bindPopup("Gedung B DIVSIG UGM");

        var marker2 = L.marker([-7.743168, 110.350276]);
        marker2.addTo(map);
        marker2.bindPopup("RS.Akademik UGM");
        
        var marker3 = L.marker([-7.973726, 110.303862]);
        marker3.addTo(map);
        marker3.bindPopup("Tempat tinggal Saya" + "<br>" + 
        "Tapi rumah saya aslinya bukan disini hihi");
        

        
            /* Menambah File geojson2 yakni RS Rujukan*/
            var wfsgeoserver2 = L.geoJson(null, {
                pointToLayer: function (feature, latlng) {
                    return L.marker(latlng, {
                        icon: L.icon({
                            iconUrl: "assets/img/marker/fas_rumahsakit_rujukan.png", //URL icon marker
                            iconSize: [30, 30], //ukuran icon marker
                            iconAnchor: [16, 32], //icon marker offset
                            popupAnchor: [0, -32], //popup offset
                            tooltipAnchor: [16, -20] //tooltip offset
                        })
                    });
                },

                onEachFeature: function (feature, layer) {
                    /* Variabel content untuk memanggil atribut dari data file geojson */
                    var content = "Nama : " + feature.properties.NAMA + "<br>" +
                    "Alamat : " + feature.properties.ALAMAT + "<br>" +
                    "Telepon : " + feature.properties.TELP + "<br>" +
                    "Foto : " + feature.properties.FOTO ;

                    layer.on({
                        click: function (e) { //Fungsi ketika icon simbol di-klik
                            wfsgeoserver2.bindPopup(content);
                        },

                        mouseover:function(e) {
                            wfsgeoserver2.bindTooltip(feature.properties.nama);
                        },

                        mouseout:function(e) {
                            wfsgeoserver2.closePopup();
                        }
                    });
                }
            });

            $.getJSON("data/wfsgeojson2.php", function (data) {
                wfsgeoserver2.addData(data);
                map.addLayer(wfsgeoserver2);
                //map.fitBounds(wfsgeojson2.getBounds());
            });

            
            
            //CLUSTER MARKER FASILITAS KESEHATAN
            var GeoJsonData = {
                "type": "FeatureCollection",
                "features": [
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSU PANTI BAKTININGSIH" }, "geometry": { "type": "Point", "coordinates": [ 110.242680000000163, -7.754969999999606 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS KLEPU" }, "geometry": { "type": "Point", "coordinates": [ 110.242830000000154, -7.755169999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSB MITRA SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.288210000000134, -7.808229999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS MOYUDAN" }, "geometry": { "type": "Point", "coordinates": [ 110.252670000000151, -7.775869999999586 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PROGO" }, "geometry": { "type": "Point", "coordinates": [ 110.283680000000132, -7.809759999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS MLATI 2" }, "geometry": { "type": "Point", "coordinates": [ 110.328230000000104, -7.733069999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS TEMPEL" }, "geometry": { "type": "Point", "coordinates": [ 110.288210000000134, -7.700939999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS SAYEGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.301200000000108, -7.719119999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.33205, -7.799949999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BUNDA PLUS" }, "geometry": { "type": "Point", "coordinates": [ 110.3150100000001, -7.77332 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK HARAPAN SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.324190000000101, -7.775359999999586 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K24" }, "geometry": { "type": "Point", "coordinates": [ 110.32239, -7.778599999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K24" }, "geometry": { "type": "Point", "coordinates": [ 110.293530000000118, -7.767419999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KLAJURAN" }, "geometry": { "type": "Point", "coordinates": [ 110.31102, -7.772229999999586 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS AMBARKETAWANG" }, "geometry": { "type": "Point", "coordinates": [ 110.320250000000101, -7.800699999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS QUEEN LATIFA" }, "geometry": { "type": "Point", "coordinates": [ 110.3367, -7.762459999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS AL TUROTS" }, "geometry": { "type": "Point", "coordinates": [ 110.293510000000111, -7.750449999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DIANA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.323040000000105, -7.781969999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 BANYURADEN" }, "geometry": { "type": "Point", "coordinates": [ 110.34359, -7.77963 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DINA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.34147, -7.779389999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA TLOGOREJO" }, "geometry": { "type": "Point", "coordinates": [ 110.33694, -7.778409999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 GAMPING" }, "geometry": { "type": "Point", "coordinates": [ 110.323660000000103, -7.800549999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK AULIA" }, "geometry": { "type": "Point", "coordinates": [ 110.36166, -7.767249999999584 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BUNDA PLUS" }, "geometry": { "type": "Point", "coordinates": [ 110.29561000000011, -7.806599999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KOSUDGAMA" }, "geometry": { "type": "Point", "coordinates": [ 110.37833, -7.776169999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KENCANA" }, "geometry": { "type": "Point", "coordinates": [ 110.37338, -7.769779999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BLUNYH FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.36878, -7.769049999999586 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PERMATA" }, "geometry": { "type": "Point", "coordinates": [ 110.38033, -7.761779999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 JALAN KALIURANG" }, "geometry": { "type": "Point", "coordinates": [ 110.3794, -7.763189999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK COBRA HUSADA" }, "geometry": { "type": "Point", "coordinates": [ 110.37949, -7.76384 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK WIJAYA KUSUMA" }, "geometry": { "type": "Point", "coordinates": [ 110.321730000000102, -7.801169999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK MARI SEHAT INDONESIA" }, "geometry": { "type": "Point", "coordinates": [ 110.37293, -7.746949999999605 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "DOKTER TINA" }, "geometry": { "type": "Point", "coordinates": [ 110.385, -7.752359999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 LAKSDA ADI SUCIPTO" }, "geometry": { "type": "Point", "coordinates": [ 110.39733, -7.783059999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KENTUNGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.38324, -7.754569999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SIAGA" }, "geometry": { "type": "Point", "coordinates": [ 110.39966, -7.745789999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 GEJAYAN" }, "geometry": { "type": "Point", "coordinates": [ 110.38951, -7.772439999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 KALIURANG" }, "geometry": { "type": "Point", "coordinates": [ 110.38612, -7.750339999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 JOMBOR" }, "geometry": { "type": "Point", "coordinates": [ 110.36263, -7.7471 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 MONJALI" }, "geometry": { "type": "Point", "coordinates": [ 110.36962, -7.756669999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK MULIA HUSADA" }, "geometry": { "type": "Point", "coordinates": [ 110.36228, -7.746089999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA LAKSDA ADI SUCIPTO" }, "geometry": { "type": "Point", "coordinates": [ 110.39837, -7.783359999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK JONGKANG" }, "geometry": { "type": "Point", "coordinates": [ 110.37224, -7.748339999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DEPOK" }, "geometry": { "type": "Point", "coordinates": [ 110.39552, -7.758089999999587 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA KENTUNGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.38434, -7.75296 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA MONJALI" }, "geometry": { "type": "Point", "coordinates": [ 110.37372, -7.744459999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK GEJAYAN" }, "geometry": { "type": "Point", "coordinates": [ 110.39112, -7.768809999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PRINGWULUNG" }, "geometry": { "type": "Point", "coordinates": [ 110.3952, -7.767999999999605 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTIK SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.39447, -7.735859999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KOLOMBO" }, "geometry": { "type": "Point", "coordinates": [ 110.38897, -7.74528 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK ASTUTI" }, "geometry": { "type": "Point", "coordinates": [ 110.3852, -7.751709999999593 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTIK KIMIA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.39187, -7.740149999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SUMBER SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.39475, -7.760659999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS SLEMAN" }, "geometry": { "type": "Point", "coordinates": [ 110.34789, -7.699159999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSU PURI HUSADA" }, "geometry": { "type": "Point", "coordinates": [ 110.38629, -7.705709999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK MEDIKA" }, "geometry": { "type": "Point", "coordinates": [ 110.34254, -7.688859999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DENGGUNG" }, "geometry": { "type": "Point", "coordinates": [ 110.36132, -7.720789999999593 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK INSAN FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.38749, -7.722189999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SITA DEWI" }, "geometry": { "type": "Point", "coordinates": [ 110.35793, -7.71219 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 MURANGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.34357, -7.691069999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS TEMPEL" }, "geometry": { "type": "Point", "coordinates": [ 110.3269, -7.65818 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PEMBANTU DONOKERTO" }, "geometry": { "type": "Point", "coordinates": [ 110.35601, -7.653309999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS TURI" }, "geometry": { "type": "Point", "coordinates": [ 110.37981, -7.653949999999607 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK TEMPEL" }, "geometry": { "type": "Point", "coordinates": [ 110.32592, -7.656269999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK GIRI FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.37771, -7.651609999999596 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SIAGA" }, "geometry": { "type": "Point", "coordinates": [ 110.33696, -7.675919999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K24(1)" }, "geometry": { "type": "Point", "coordinates": [ 110.40979, -7.755359999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK CONDONG CATUR" }, "geometry": { "type": "Point", "coordinates": [ 110.40766, -7.759309999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTIK GENTAN" }, "geometry": { "type": "Point", "coordinates": [ 110.40417, -7.719499999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK CESPLONG" }, "geometry": { "type": "Point", "coordinates": [ 110.41197, -7.747699999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K-24 RAYA SETURAN" }, "geometry": { "type": "Point", "coordinates": [ 110.41017, -7.767719999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK ORIMEDIC" }, "geometry": { "type": "Point", "coordinates": [ 110.40608, -7.783129999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PANASEA" }, "geometry": { "type": "Point", "coordinates": [ 110.41524, -7.777439999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KONDANG SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.40856, -7.778149999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK TINA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.38505, -7.752269999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SURYA MEDIKA" }, "geometry": { "type": "Point", "coordinates": [ 110.38505, -7.756819999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK ANUGRAH 24 JAM" }, "geometry": { "type": "Point", "coordinates": [ 110.41569, -7.774539999999596 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SRIKANDI" }, "geometry": { "type": "Point", "coordinates": [ 110.41395, -7.774069999999593 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK KIMIA FARMA RAYA SETURAN" }, "geometry": { "type": "Point", "coordinates": [ 110.40979, -7.769519999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK & PRAKTEK SITA" }, "geometry": { "type": "Point", "coordinates": [ 110.44949, -7.760339999999596 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BERKAH FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.4411, -7.753599999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS ISLAM PDHI YOGYAKARTA" }, "geometry": { "type": "Point", "coordinates": [ 110.45807, -7.774949999999605 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN WIDIYAWATI" }, "geometry": { "type": "Point", "coordinates": [ 110.44355, -7.781749999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "DR AVIA ROSELINA" }, "geometry": { "type": "Point", "coordinates": [ 110.43885, -7.767869999999596 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK RIGINSARI" }, "geometry": { "type": "Point", "coordinates": [ 110.43547, -7.775639999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS BERBAH 2" }, "geometry": { "type": "Point", "coordinates": [ 110.43006, -7.820419999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSUD PRAMBANAN" }, "geometry": { "type": "Point", "coordinates": [ 110.48313, -7.804779999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS DARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.43013, -7.825459999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BERBAH SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.44161, -7.804309999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK GANDU" }, "geometry": { "type": "Point", "coordinates": [ 110.42964, -7.824669999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RUMAH SAKIT IBU & ANAK ARVITA BUNDA" }, "geometry": { "type": "Point", "coordinates": [ 110.43457, -7.762629999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PANJEN" }, "geometry": { "type": "Point", "coordinates": [ 110.43442, -7.740319999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK NIRMALA" }, "geometry": { "type": "Point", "coordinates": [ 110.43447, -7.735319999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK PRATAMA TAJEM" }, "geometry": { "type": "Point", "coordinates": [ 110.43451, -7.751089999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK VIVA GENERIK" }, "geometry": { "type": "Point", "coordinates": [ 110.43331, -7.759369999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K24" }, "geometry": { "type": "Point", "coordinates": [ 110.43318, -7.758839999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK CAKRA" }, "geometry": { "type": "Point", "coordinates": [ 110.46015, -7.683279999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS NGAGLIK 2" }, "geometry": { "type": "Point", "coordinates": [ 110.38874, -7.689529999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN SARJOKO" }, "geometry": { "type": "Point", "coordinates": [ 110.40682, -7.660199999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS PANTI NUGROHO" }, "geometry": { "type": "Point", "coordinates": [ 110.41749, -7.668989999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK UNISIA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.41867, -7.68734 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "DOKTER HERIYANTO" }, "geometry": { "type": "Point", "coordinates": [ 110.43125, -7.683759999999606 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSU MITRA PARAMEDIKA" }, "geometry": { "type": "Point", "coordinates": [ 110.44847, -7.713899999999593 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS NGAGLIK" }, "geometry": { "type": "Point", "coordinates": [ 110.40249, -7.722019999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DUA SEHAT" }, "geometry": { "type": "Point", "coordinates": [ 110.4121, -7.705209999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK K24" }, "geometry": { "type": "Point", "coordinates": [ 110.4173, -7.696779999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SINAR FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.45073, -7.743129999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PEMBANTU WUKIRSARI" }, "geometry": { "type": "Point", "coordinates": [ 110.44406, -7.658069999999595 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS PKU MUHAMMADIYAH CANGKRINGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.46238, -7.667019999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN DELIMA" }, "geometry": { "type": "Point", "coordinates": [ 110.42736, -7.668519999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS CANGKRINGAN(1)" }, "geometry": { "type": "Point", "coordinates": [ 110.45646, -7.66485 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PAKEM" }, "geometry": { "type": "Point", "coordinates": [ 110.42206, -7.667619999999608 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN MAWARTI" }, "geometry": { "type": "Point", "coordinates": [ 110.46489, -7.698219999999596 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS CANGKRINGAN" }, "geometry": { "type": "Point", "coordinates": [ 110.45578, -7.658349999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK & PRAKTEK DOKTER QOLBU" }, "geometry": { "type": "Point", "coordinates": [ 110.4671, -7.703949999999593 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS GRASIA" }, "geometry": { "type": "Point", "coordinates": [ 110.42095, -7.662019999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS SLEMAN" }, "geometry": { "type": "Point", "coordinates": [ 110.46489, -7.699849999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PAKEM" }, "geometry": { "type": "Point", "coordinates": [ 110.42163, -7.659679999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS NGEMPLAK 2" }, "geometry": { "type": "Point", "coordinates": [ 110.44451, -7.703199999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS CANGKRINGAN 2" }, "geometry": { "type": "Point", "coordinates": [ 110.43281, -7.625779999999607 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK FORMULA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.41915, -7.684119999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK BINANGUN" }, "geometry": { "type": "Point", "coordinates": [ 110.41962, -7.664659999999609 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RUMAH SAKIT HOLISTIKA MEDIKA" }, "geometry": { "type": "Point", "coordinates": [ 110.42509, -7.747139999999591 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK SS" }, "geometry": { "type": "Point", "coordinates": [ 110.4106, -7.76615 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RSA SEMAR\/SADEWA" }, "geometry": { "type": "Point", "coordinates": [ 110.41543, -7.770899999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS LOKAPALA" }, "geometry": { "type": "Point", "coordinates": [ 110.415, -7.774089999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS BEDAH ANNUR" }, "geometry": { "type": "Point", "coordinates": [ 110.38681, -7.777889999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK TINA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.38191, -7.758149999999605 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS CONDONG CATUR" }, "geometry": { "type": "Point", "coordinates": [ 110.40586, -7.754589999999598 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK JANTI FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.41017, -7.784479999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK & KLINIK KELUARGA SEMBADA NGAGLIK" }, "geometry": { "type": "Point", "coordinates": [ 110.40009, -7.728409999999604 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK ANEKA SYIFA" }, "geometry": { "type": "Point", "coordinates": [ 110.40706, -7.744029999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK AMANAH" }, "geometry": { "type": "Point", "coordinates": [ 110.40636, -7.74622 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "DOKTER MUHAMMAD KHARISMA" }, "geometry": { "type": "Point", "coordinates": [ 110.45034, -7.74382 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN KAMIYEM" }, "geometry": { "type": "Point", "coordinates": [ 110.45137, -7.727889999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK AIRA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.45178, -7.729719999999592 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS PANTI RINI" }, "geometry": { "type": "Point", "coordinates": [ 110.46689, -7.772009999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS BHAYANGKARA POLDA DIY" }, "geometry": { "type": "Point", "coordinates": [ 110.47184, -7.766239999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Rumah Sakit", "NAMA": "RS ISLAM PDHI YOGYAKARTA" }, "geometry": { "type": "Point", "coordinates": [ 110.45794, -7.775059999999601 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS BERBAH" }, "geometry": { "type": "Point", "coordinates": [ 110.44783, -7.788039999999599 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS KALASAN" }, "geometry": { "type": "Point", "coordinates": [ 110.44942, -7.758579999999589 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DWI MEDIKA FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.44049, -7.783359999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PRAMBANAN" }, "geometry": { "type": "Point", "coordinates": [ 110.48946, -7.761839999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS DEPOK 1" }, "geometry": { "type": "Point", "coordinates": [ 110.43135, -7.775019999999603 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK RAFI FARMA" }, "geometry": { "type": "Point", "coordinates": [ 110.44824, -7.752759999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK DONITA" }, "geometry": { "type": "Point", "coordinates": [ 110.42964, -7.783599999999588 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "DOKTER KUMALA SARI" }, "geometry": { "type": "Point", "coordinates": [ 110.4721, -7.725559999999597 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN PUCUNG" }, "geometry": { "type": "Point", "coordinates": [ 110.48487, -7.711889999999607 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK TAMBAK EMAS" }, "geometry": { "type": "Point", "coordinates": [ 110.4721, -7.730339999999606 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Puskesmas", "NAMA": "PUSKESMAS PEMBANTU MADUREJO" }, "geometry": { "type": "Point", "coordinates": [ 110.48274, -7.790249999999602 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Praktek Dokter\/ Bidan", "NAMA": "BIDAN MARSINI" }, "geometry": { "type": "Point", "coordinates": [ 110.47178, -7.745899999999594 ] } },
                    { "type": "Feature", "properties": { "LAYER": "Apotek", "NAMA": "APOTEK NABILLA" }, "geometry": { "type": "Point", "coordinates": [ 110.47159, -7.739739999999595 ] } }
                ]
            }; 
            
            var markers = L.markerClusterGroup();
            var GeoJsonLayer = L.geoJson(GeoJsonData, {
                onEachFeature: function (feature,layer) {
                    layer.bindPopup("Jenis Fasilitas Kesehatan : " + feature.properties.LAYER + "<br>" + "Nama : " + feature.properties.NAMA); 
                }
            });

            markers.addLayer(GeoJsonLayer);
            
            map.addLayer(markers); 
            map.fitBounds(markers.getBounds());

            //menambah file batas admin
            
            var wfsgeoserver3 = L.geoJson(null, {
                style: function (feature) {
                    if (feature.properties.FUNGSI === "Jalan Arteri") {
                        return {
                            color: "#A00000", //Warna garis
                            dashArray: '',
                            weight: 4, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.FUNGSI === "Jalan Kolektor" ) {
                        return {
                            color: "#B80000 ", //Warna garis
                            dashArray: '',
                            weight: 3, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.FUNGSI === "Jalan Lokal" ) {
                        return {
                            color: "#FF0000 ", //Warna garis
                            dashArray: '2,4',
                            weight: 2, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.FUNGSI === "Rel Kereta" ) {
                        return {
                            color: "#000000", //Warna garis
                            dashArray: '2,4',
                            weight: 2, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }                    
                },
                onEachFeature: function (feature, layer) {
                    var content = "Fungsi: " + feature.properties.FUNGSI + "<br>" +
                    "Kewenangan: " + feature.properties.KEWENANGAN + " Unit<br>" +
                    "Nama Jalan: " + feature.properties.NAMA+ " Unit<br>" +
                    "Sumber: " + feature.properties.SUMBER;

                    var contentTable = "<table>" +
                    "<tr><th>Fungsi</th><td>" + feature.properties.FUNGSI + "</td></tr>" +
                    "<tr><th>Kewenangan</th><td>" + feature.properties.KEWENANGAN + " Unit</td></tr>" +
                    "<tr><th>Nama Jalan</th><td>" + feature.properties.NAMA + " Unit</td></tr>" +
                    "<tr><th>Sumber</th><td>" + feature.properties.SUMBER + " Unit</td></tr>" +
                    "</table>";

                    layer.on({
                        click: function (e) { //Fungsi ketika obyek diklik
                            wfsgeoserver3.bindPopup(
                                'Fungsi: ' + feature.properties.FUNGSI + '<br>' +
                                'Kewenangan: ' + feature.properties.KEWENANGAN + '<br>' +
                                'Nama Jalan: ' + feature.properties.NAMA + '<br>' +
                                'Sumber: ' + feature.properties.SUMBER
                            );
                        },
                        mouseover: function (e) { //Fungsi mouse berada di atas obyek untuk highlight
                            var layer = e.target; //variabel layer
                            layer.setStyle({ //Highlight style
                                weight: 2, //Tebal garis
                                color: "#00FFFF", //Warna garis
                                opacity: 1, //Transparansi garis
                            });
                            wfsgeoserver3.bindTooltip("Jenis " + feature.properties.FUNGSI, {sticky: true});
                        },
                        mouseout: function (e) { //Fungsi mouse keluar dari obyek
                            wfsgeoserver3.resetStyle(e.target); //Mengembalikan style garis ke style awal
                            wfsgeoserver3.closePopup(); //Menutup popup
                        }
                    });
                },                    
            });

            $.getJSON("data/wfsgeojson3.php", function (data) {
                wfsgeoserver3.addData(data);
                map.addLayer(wfsgeoserver3);
                //map.fitBounds(wfsgeojson3.getBounds());
            });

            //menambah file batas admin
            var wfsgeoserver5 = L.geoJson(null, {
                style: function (feature) {
                    if (feature.properties.JENIS === "Batas Provinsi") {
                        return {
                            color: "#000000", //Warna garis
                            dashArray: '',
                            weight: 4, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.JENIS === "Batas Kabupaten" ) {
                        return {
                            color: "#000000", //Warna garis
                            dashArray: '4,8',
                            weight: 3, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.JENIS === "Batas Kecamatan" ) {
                        return {
                            color: "#000000", //Warna garis
                            dashArray: '2,4',
                            weight: 2, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }
                    else  if (feature.properties.JENIS === "Batas Desa" ) {
                        return {
                            color: "#000000", //Warna garis
                            dashArray: '1,2',
                            weight: 1, //Tebal garis
                            opacity: 1, //Transparansi garis                            
                        }
                    }                    
                },
                onEachFeature: function (feature, layer) {
                    var content = "Jenis: " + feature.properties.JENIS + "<br>" +
                    "Status: " + feature.properties.STATUS + " Unit<br>" +
                    "Sumber: " + feature.properties.SUMBER_;

                    var contentTable = "<table>" +
                    "<tr><th>Jenis</th><td>" + feature.properties.JENIS + "</td></tr>" +
                    "<tr><th>Status</th><td>" + feature.properties.STATUS + " Unit</td></tr>" +
                    "<tr><th>Sumber</th><td>" + feature.properties.SUMBER_ + " Unit</td></tr>" +
                    "</table>";

                    layer.on({
                        click: function (e) { //Fungsi ketika obyek diklik
                            wfsgeoserver5.bindPopup(
                                'Jenis: ' + feature.properties.JENIS + '<br>' +
                                'Status: ' + feature.properties.STATUS + '<br>' +
                                'Sumber: ' + feature.properties.SUMBER_
                            );
                        },
                        mouseover: function (e) { //Fungsi mouse berada di atas obyek untuk highlight
                            var layer = e.target; //variabel layer
                            layer.setStyle({ //Highlight style
                                weight: 2, //Tebal garis
                                color: "#00FFFF", //Warna garis
                                opacity: 1, //Transparansi garis
                            });
                            wfsgeoserver5.bindTooltip("Jenis " + feature.properties.JENIS, {sticky: true});
                        },
                        mouseout: function (e) { //Fungsi mouse keluar dari obyek
                            wfsgeoserver5.resetStyle(e.target); //Mengembalikan style garis ke style awal
                            wfsgeoserver5.closePopup(); //Menutup popup
                        }
                    });
                },                    
            });

            $.getJSON("data/wfsgeojson5.php", function (data) {
                wfsgeoserver5.addData(data);
                map.addLayer(wfsgeoserver5);
                //map.fitBounds(wfsgeojson5.getBounds());
            });

            //menambah file covid
            var wfsgeoserver4 = L.geoJson(null, {
            style: function (feature) {
                if (feature.properties.AKTIF <= 200) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ffe6e6',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.AKTIF <= 400) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ffb3b3',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }                
                else  if (feature.properties.AKTIF <=600 ) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ff8080',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.AKTIF >600 && feature.properties.AKTIF <=800 ) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ff4d4d',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.AKTIF >800 ) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ff1a1a',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
            },
            onEachFeature: function (feature, layer) {
                var content = "Kecamatan: " + feature.properties.KECAMATAN + "<br>" +
                "Aktif: " + feature.properties.AKTIF + " Orang<br>" +
                "Konfirmasi: " + feature.properties.KONFIRMASI + " Orang<br>" +
                "Meninggal: " + feature.properties.MENINGGAL + " Orang<br>" +
                "Sembuh: " + feature.properties.SEMBUH+" Orang<br>";

                var contentTable = "<table>" +
                "<tr><th>Kecamatan</th><td>" + feature.properties.KECAMATAN + "</td></tr>" +
                "<tr><th>Aktif</th><td>" + feature.properties.AKTIF + " Orang</td></tr>" +
                "<tr><th>Konfirmasi</th><td>" + feature.properties.KONFIRMASI + " Orang</td></tr>" +
                "<tr><th>Meninggal</th><td>" + feature.properties.MENINGGAL + " Orang</td></tr>" +
                "<tr><th>Sembuh</th><td>" + feature.properties.SEMBUH + " Orang</td></tr>" +
                "</table>";

                layer.on({
                    click: function (e) { //Fungsi ketika obyek diklik
                        wfsgeoserver4.bindPopup(contentTable);
                    },

                    mouseover: function (e) { //Fungsi mouse berada di atas obyek untuk highlight
                        var layer = e.target; //variabel layer
                        layer.setStyle({ //Highlight style
                            weight: 0.2, //Tebal garis
                            color: "grey", //Warna garis
                            opacity: 1, //Transparansi garis
                            fillColor: "cyan", //Warna tengah polygon
                            fillOpacity:0.7, //Transparansi polygon
                        });
                        wfsgeoserver4.bindTooltip("Data COVID-19 Kecamatan " + feature.properties.KECAMATAN, {sticky: true});
                    },
                    mouseout: function (e) { //Fungsi mouse keluar dari obyek
                        wfsgeoserver4.resetStyle(e.target); //Mengembalikan style garis ke style awal
                        wfsgeoserver4.closePopup(); //Menutup popup
                    }
                });
            },
        });
        $.getJSON("data/wfsgeojson4.php", function (data) {
            wfsgeoserver4.addData(data);
            map.addLayer(wfsgeoserver4);
            //map.fitBounds(wfsgeojson4.getBounds());
        });

        //menambah jumlah penduduk penduduk
            var wfsgeoserver6 = L.geoJson(null, {
            style: function (feature) {
                if (feature.properties.JUMLAH <= 51106) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#f7fbff',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH <= 71081) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#c8ddf0',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }                
                else  if (feature.properties.JUMLAH <= 91055) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#73b3d8',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH >91005 && feature.properties.JUMLAH <= 111030 ) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#2879b9',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH > 111030 ) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#08306b',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
            },
            onEachFeature: function (feature, layer) {
                var content = "Kecamatan: " + feature.properties.KECAMATAN + "<br>" +
                "Jumlah Penduduk: " + feature.properties.JUMLAH + " Orang<br>";

                var contentTable = "<table>" +
                "<tr><th>Kecamatan</th><td>" + feature.properties.KECAMATAN + "</td></tr>" +
                "<tr><th>Jumlah Penduduk</th><td>" + feature.properties.JUMLAH + " Orang</td></tr>" +
                "</table>";

                layer.on({
                    click: function (e) { //Fungsi ketika obyek diklik
                        wfsgeoserver6.bindPopup(contentTable);
                    },

                    mouseover: function (e) { //Fungsi mouse berada di atas obyek untuk highlight
                        var layer = e.target; //variabel layer
                        layer.setStyle({ //Highlight style
                            weight: 0.2, //Tebal garis
                            color: "grey", //Warna garis
                            opacity: 1, //Transparansi garis
                            fillColor: "cyan", //Warna tengah polygon
                            fillOpacity:0.7, //Transparansi polygon
                        });
                        wfsgeoserver6.bindTooltip("Jumlah Penduduk di Kecamatan " + feature.properties.KECAMATAN, {sticky: true});
                    },
                    mouseout: function (e) { //Fungsi mouse keluar dari obyek
                        wfsgeoserver6.resetStyle(e.target); //Mengembalikan style garis ke style awal
                        wfsgeoserver6.closePopup(); //Menutup popup
                    }
                });
            },
        });
        $.getJSON("data/wfsgeojson6.php", function (data) {
            wfsgeoserver6.addData(data);
            map.addLayer(wfsgeoserver6);
            //map.fitBounds(wfsgeojson6.getBounds());
        });

        //menambah jumlah penduduk miskin
        var wfsgeoserver7 = L.geoJson(null, {
            style: function (feature) {
                if (feature.properties.JUMLAH <= 1279) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#fff7e6',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH <= 1639) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ffe6b3',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }                
                else  if (feature.properties.JUMLAH <= 1998) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ffd480',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH >1998 && feature.properties.JUMLAH <= 2358) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#ffbb33',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
                else  if (feature.properties.JUMLAH > 2358) {
                    return {
                        color: 'black', //Warna garis
                        fillColor:  '#e69900',
                        weight: 0, //Tebal garis
                        opacity: 1, //Transparansi garis
                        fillOpacity: 0.7,
                    }
                }
            },
            onEachFeature: function (feature, layer) {
                var content = "Kecamatan: " + feature.properties.KECAMATAN + "<br>" +
                "Jumlah Penduduk: " + feature.properties.JUMLAH + " Orang<br>";

                var contentTable = "<table>" +
                "<tr><th>Kecamatan</th><td>" + feature.properties.KECAMATAN + "</td></tr>" +
                "<tr><th>Jumlah Penduduk</th><td>" + feature.properties.JUMLAH + " Orang</td></tr>" +
                "</table>";

                layer.on({
                    click: function (e) { //Fungsi ketika obyek diklik
                        wfsgeoserver7.bindPopup(contentTable);
                    },

                    mouseover: function (e) { //Fungsi mouse berada di atas obyek untuk highlight
                        var layer = e.target; //variabel layer
                        layer.setStyle({ //Highlight style
                            weight: 0.2, //Tebal garis
                            color: "grey", //Warna garis
                            opacity: 1, //Transparansi garis
                            fillColor: "cyan", //Warna tengah polygon
                            fillOpacity:0.7, //Transparansi polygon
                        });
                        wfsgeoserver7.bindTooltip("Jumlah Penduduk Miskin di Kecamatan " + feature.properties.KECAMATAN, {sticky: true});
                    },
                    mouseout: function (e) { //Fungsi mouse keluar dari obyek
                        wfsgeoserver7.resetStyle(e.target); //Mengembalikan style garis ke style awal
                        wfsgeoserver7.closePopup(); //Menutup popup
                    }
                });
            },
        });
        $.getJSON("data/wfsgeojson7.php", function (data) {
            wfsgeoserver7.addData(data);
            map.addLayer(wfsgeoserver7);
            //map.fitBounds(wfsgeojson7.getBounds());
        });


        var baseMaps = {
            "OpenStreetMap": basemap1,
            "Esri World Street": basemap2,
            "Esri Imagery": basemap3,
            "Esri NatGeo World Map": basemap4,
            "Map Box Light": basemap5
        };

        //plugin grouplayer
        var groupedOverlays = {
            "Lokasi di Pin":{
            "Gedung B DIVSIG UGM": marker1,
            "RS.Akademik UGM": marker2,
            "Rumah Saya" : marker3
            },
            "Keterangan":{
            "Rumah Sakit Rujukan": wfsgeoserver2,
            // "Fasilitas Kesehatan": wfsgeoserver1,
            "Jaringan Jalan": wfsgeoserver3,
            "Batas Administrasi": wfsgeoserver5
            },
            "Peta":{
            "Data Covid-19 Kab. Sleman":wfsgeoserver4,
            "Data Jumlah Penduduk Kab. Sleman": wfsgeoserver6,
            "Data Jumlah Pddk Miskin Kab. Sleman": wfsgeoserver7
            }
        };
        var options = {
        // Make the "Landmarks" group exclusive (use radio inputs)
        exclusiveGroups: ["Peta"],
        // Show a checkbox next to non-exclusive group labels for toggling all
        groupCheckboxes: true
        };
        var layerControl = L.control.groupedLayers(baseMaps,groupedOverlays, options);map.addControl(layerControl);        
       
        
        //Plugin search
        var controlSearch = new L.Control.Search({
            layer: wfsgeoserver4,
            position: 'topleft',
            propertyName: "KECAMATAN",
            INITIAL: false,
            marker: false,
            moveToLocation: function(latlng, title, map) {
                var zoom = map.getBoundsZoom(latlng.layer.getBounds());
                map.setView(latlng,zoom);
            }
        });
        map.addControl( controlSearch );  //menambahakn tool pencarian ke tampilan map

        //Plugin measure
        var controlMeasure = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondLengthUnit: 'kilometers',
            primaryAreaUnit: 'hectares',
            secondAreahUnit: 'sqmeters',
            activeColor: '#ff0000',
            completedColor: '#00ff00'            
        });
        map.addControl(controlMeasure);

 
        //Plugin Print
        var easyPrint = L.easyPrint({
            titleLayer: baseMaps,
            sizeModes: ['Current', 'A4Landscape', 'A4Potrait'],
            filename: 'myMap',
            exportOnly: true,
            hideControlContainer: true
        }).addTo(map);
        function manualPrint (){
            printer.printMap('CurrentSize', 'MyManualPrint')
        }
        //Plugin Compass
        var compass = new L.Control.Compass({autoActive: true, showDigit:true});
        map.addControl(compass);

        //Plugin GPS
        var gps = new L.Control.Gps({
            //autoActive:true,
            autoCenter:true
	    });//inizialize control

        gps
        .on('gps:located', function(e) {
            //	e.marker.bindPopup(e.latlng.toString()).openPopup()
            console.log(e.latlng, map.getCenter())
        })
        .on('gps:disabled', function(e) {
            e.marker.closePopup()
        });
        gps.addTo(map);
   
       

        //Plugin Coordinate
        var c = new L.Control.Coordinates(); //you can send options to the constructor if you want to, otherwise default values are used

        c.addTo(map);

        map.on('click', function(e) {
            c.setCoordinates(e);
        });

        var control = L.Routing.control(L.extend(window.lrmConfig, {
            waypoints: [
                //L.latLng(-7.766715, 110.377460),
                L.latLng(-7.743168, 110.350276),
                L.latLng(-7.973726, 110.303862)
            ],
            geocoder: L.Control.Geocoder.nominatim(),
            routeWhileDragging: true,
            reverseWaypoints: true,
            showAlternatives: true,
            altLineOptions: {
                styles: [
                    {color: 'black', opacity: 0.15, weight: 9},
                    {color: 'white', opacity: 0.8, weight: 6},
                    {color: 'blue', opacity: 0.5, weight: 2}
                ]
            }
        })).addTo(map);

        L.Routing.errorControl(control).addTo(map);

        //add legenda dalam bentuk png
        L.Control.Legenda = L.Control.extend({
            onAdd: function(map){
                var img = L.DomUtil.create('img');
                img.src = 'assets/img/legend/legenda.png';
                img.style.height = '300px';
                return img;
            }
        });

        L.control.watermark = function(opts){
            return new L.Control.Legenda(opts); 
        }
        L.control.watermark({position:'bottomleft'}).addTo(map);
        
        //image watermark/logo
        L.Control.Watermark = L.Control.extend({
            onAdd: function(map){
                var img = L.DomUtil.create('img');
                img.src = 'assets/img/logo/LOGO_SIG_BLUE.png';
                img.style.width = '100px';
                return img;
            }
        });

        L.control.watermark = function(opts){
            return new L.Control.Watermark(opts); 
        }
        L.control.watermark({position:'bottomright'}).addTo(map);         

        /* Scale Bar */
        L.control.scale({ maxWidth: 150,position:'bottomright'}).addTo(map);
         

    </script>
  </body>
</html>
